{"version":3,"file":"bundle.js","sources":["../../src/globals.ts","../../src/my-console-log.ts","../../src/bytesToSize.ts","../../node_modules/format-util/format.js","../../src/text.ts","../../src/download-song.ts","../../src/download-all-songs.ts","../../src/my-require.ts","../../src/html.ts","../../src/close.ts","../../src/check.ts","../../src/main.ts"],"sourcesContent":["\r\nexport let stop_function = {\r\n    v: false\r\n};\r\n\r\nwindow[\"s\"] = stop_function;","\r\nexport function my_console_log(txt: string) {\r\n\r\n\tconst my_console = document.querySelector<HTMLElement>(\"#text\");\r\n\r\n\tconsole.log(txt);\r\n\r\n\tmy_console.innerText += txt + \"\\n\";\r\n\r\n\tmy_console.scrollTo({\r\n\t\ttop: my_console.scrollHeight,\r\n\t\tbehavior: \"smooth\"\r\n\t});\r\n}","\r\nexport function bytesToSize(bytes): string {\r\n\tvar sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n\tif (bytes == 0) return '0 Byte';\r\n\r\n\tvar i = Math.trunc(Math.floor(Math.log(bytes) / Math.log(1024)));\r\n\treturn Math.round(bytes / Math.pow(1024, i)) + ' ' + sizes[i];\r\n}","function format(fmt) {\n  var re = /(%?)(%([jds]))/g\n    , args = Array.prototype.slice.call(arguments, 1);\n  if(args.length) {\n    fmt = fmt.replace(re, function(match, escaped, ptn, flag) {\n      var arg = args.shift();\n      switch(flag) {\n        case 's':\n          arg = '' + arg;\n          break;\n        case 'd':\n          arg = Number(arg);\n          break;\n        case 'j':\n          arg = JSON.stringify(arg);\n          break;\n      }\n      if(!escaped) {\n        return arg; \n      }\n      args.unshift(arg);\n      return match;\n    })\n  }\n\n  // arguments remain after formatting\n  if(args.length) {\n    fmt += ' ' + args.join(' ');\n  }\n\n  // update escaped %% values\n  fmt = fmt.replace(/%{2,2}/g, '%');\n\n  return '' + fmt;\n}\n\nmodule.exports = format;\n","export const lang_text = {\r\n    is_download_file: \"מוריד את קובץ %s...\",\r\n\r\n    zipping_file: \"דוחס את קובץ %s...\",\r\n\r\n    ready: \"הקובץ מוכן להורדה!\",\r\n\r\n    download: \"מקובץ %s ירדו %s מתוך %s\",\r\n\r\n    is_not_site: \"אתר זה, איננו \" + \"jewishmusic.fm!\",\r\n\r\n    empty_audio: \"בדף זה, אין קבצי אודיו!\"\r\n};","\r\nimport { my_console_log } from \"./my-console-log\";\r\nimport { bytesToSize } from \"./bytesToSize\"\r\nimport { stop_function } from './globals';\r\nimport format from \"format-util\";\r\nimport { lang_text } from \"./text\";\r\nimport type { Song } from \"./Song\";\r\n\r\nexport function download_song(song: Song, reply = 0) {\r\n\r\n    let res: Promise<Response>;\r\n\r\n    const promise = new Promise(async (resolve, reason) => {\r\n\r\n        res = fetch(song.url, {\r\n            headers: {\r\n                \"Range\": \"bytes=0-\"\r\n            }\r\n        });\r\n\r\n        const response = await res;\r\n\r\n        if (response.status < 200 || response.status >= 400) {\r\n\r\n            if (reply < 5) {\r\n                reply++;\r\n                my_console_log(\"!!!\");\r\n                await new Promise(resolve => setTimeout(resolve, 1000));\r\n                resolve(download_song(song, reply))\r\n            } else {\r\n                reason();\r\n                throw response;\r\n            }\r\n        }\r\n\r\n        const reader = response.body.getReader();\r\n\r\n        const contentLength = response.headers.get('Content-Length');\r\n        let receivedLength = 0;\r\n\r\n        const stream = new Response(\r\n            new ReadableStream({\r\n                async start(controller) {\r\n\r\n                    const interval = setInterval(() => {\r\n                        my_console_log(\r\n                            format(lang_text.download,\r\n                                song.file_name,\r\n                                bytesToSize(receivedLength),\r\n                                bytesToSize(contentLength)\r\n                            )\r\n                        );\r\n                    }, 1000);\r\n\r\n                    while (true) {\r\n\r\n                        if (stop_function.v) {\r\n                            clearInterval(interval);\r\n                            controller.close();\r\n                            throw new Error(\"window closed!\");\r\n                        }\r\n\r\n                        const { done, value } = await reader.read();\r\n\r\n                        if (done) {\r\n                            clearInterval(interval);\r\n                            break;\r\n                        }\r\n\r\n                        receivedLength += value.length;\r\n\r\n                        controller.enqueue(value);\r\n                    }\r\n\r\n                    controller.close();\r\n                }\r\n            })\r\n        );\r\n\r\n        const blob = await stream.blob();\r\n\r\n        resolve(blob);\r\n    });\r\n\r\n    return promise;\r\n}","\r\nimport { stop_function } from './globals';\r\nimport { my_console_log } from \"./my-console-log\";\r\nimport { download_song } from \"./download-song\";\r\nimport type { Song } from \"./Song\";\r\nimport { lang_text } from \"./text\";\r\nimport format from \"format-util\";\r\n\r\n\r\n\r\nfunction get_all_songs() {\r\n\r\n\tconst song_list: NodeListOf<HTMLAudioElement> = document.\r\n\t\tquerySelectorAll(\"audio > source\");\r\n\r\n\tlet song_list_arr = Array.from(song_list);\r\n\r\n\tconst final_songs_arr: Array<Song> = Array();\r\n\r\n\tsong_list_arr.forEach((source) => {\r\n\r\n\t\tfinal_songs_arr.push({\r\n\r\n\t\t\turl: source.src.replace(\"http://\", \"https://\"),\r\n\r\n\t\t\tfile_name: source.parentElement.\r\n\t\t\t\tparentElement.querySelector(\"h3\").innerText\r\n\t\t})\r\n\r\n\t});\r\n\r\n\treturn final_songs_arr;\r\n}\r\n\r\nexport async function download_all_songs() {\r\n\r\n\tconst progress = document.querySelector<HTMLProgressElement>(\"progress\");\r\n\r\n\tconst audio_list = get_all_songs();\r\n\r\n\tlet zip = new window[\"JSZip\"]();\r\n\r\n\tprogress.max = audio_list.length\r\n\r\n\tlet i = 0;\r\n\r\n\tfor (const song of audio_list) {\r\n\r\n\t\tif (stop_function.v) {\r\n\t\t\tthrow new Error(\"window closed!\");\r\n\t\t}\r\n\r\n\t\tmy_console_log(\r\n\t\t\tformat(lang_text.is_download_file, song.file_name)\r\n\t\t);\r\n\r\n\t\tconst blob = await download_song(song);\r\n\r\n\t\tmy_console_log(\r\n\t\t\tformat(lang_text.zipping_file, song.file_name)\r\n\t\t);\r\n\r\n\t\tconst ext = song.url.split(\".\").pop();\r\n\r\n\t\tzip.file(song.file_name + \".\" + ext, blob, { binary: true });\r\n\r\n\t\ti++;\r\n\r\n\t\tprogress.value = i;\r\n\r\n\t\t//progress_val.set(i);\r\n\t}\r\n\r\n\tmy_console_log(\r\n\t\tformat(lang_text.ready)\r\n\t);\r\n\r\n\tawait save_zip_file(zip);\r\n\r\n}\r\n\r\nasync function save_zip_file(zip) {\r\n\r\n\tconst albom_title = document.querySelector<HTMLElement>(\".album-title\").innerText,\r\n\t\talbom_art = document.querySelector<HTMLElement>(\".arts_name\").innerText,\r\n\t\tfile_name = `${albom_title} - ${albom_art}`;\r\n\r\n\tconst zipFile = await zip.generateAsync({ type: \"blob\" });\r\n\r\n\tsave_blob_file(zipFile, file_name);\r\n}\r\n\r\nasync function save_blob_file(blob, file_name) {\r\n\r\n\tvar url = URL.createObjectURL(blob);\r\n\tvar a = document.createElement('a');\r\n\ta.href = url;\r\n\r\n\ta.download = file_name || \"download\";\r\n\r\n\tdocument.body.appendChild(a);\r\n\ta.click();\r\n\ta.remove();\r\n}","\r\nexport async function my_require(url) {\r\n\r\n    const script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = url;\r\n\r\n\r\n    document.head.appendChild(script);\r\n\r\n    await new Promise((resolve) => script.onload = resolve);\r\n};\r\n\r\n","const html = ` <div id=\"window\" style=\"visibility:visible; opacity: 1;\"> <div id=\"bar\"> <div id=\"window-text\">הורדה מאתר Jewish-music.Fm</div> <div id=\"close\" on:click=\"close()\" ></div> </div> <div id=\"window-content\"> <progress value=\"0\" max=\"1\"></progress> <div id=\"text\"></div>> <div id=\"credit\"> <a href=\"https://github.com/MusiCode1/jewish-music.fm\" target=\"_\"> <em>MusiCode</em> </a> </div> </div> </div> `;\r\nconst style_html = ` #window { position: fixed; left: 10%; right: 10%; top: 20%; bottom: 20%; max-width: 660px; margin: auto; backdrop-filter: blur(8px); border-radius: 30px; background: rgba(255, 255, 255, 0.73); box-shadow: 0px 0px 13px 1px; transition: all 3s ease-out; z-index: 20; } #bar { position: absolute; height: 50px; left: 0; right: 0; background: #7c7c7c; border-radius: 30px 30px 0px 0px; } #window-text { height: 100%; display: flex; align-items: center; justify-content: space-around; text-align: center; font-size: 24px; line-height: 28px; color: #ececec; font-family: system-ui; position: relative; width: calc(100% - 60px); } #close { position: absolute; width: 20px; height: 20px; left: 40px; top: 15px; background: #de4f4f; border-radius: 50%; } #close:hover { background: #f87878; } #window-content { position: relative; top: 50px; padding: 2em; height: calc(100% - 50px); box-sizing: border-box; } progress { width: 100%; height: 50px; } #text { font-size: 20px; font-family: system-ui; overflow-y: scroll; height: calc(100% - 50px); direction: rtl; } #credit { text-align: left; color: #b6abab; }`;\r\n\r\nexport async function add_html() {\r\n    const style = document.createElement(\"style\");\r\n    style.innerHTML = style_html;\r\n\r\n    const the_div = document.createElement(\"div\");\r\n    the_div.innerHTML = html;\r\n\r\n    the_div.classList.add(\"download_from_jewish_music\");\r\n    document.body.appendChild(the_div);\r\n    document.body.appendChild(style);\r\n\r\n    await new Promise((resolve) => the_div.addEventListener(\"load\", resolve) )\r\n}","import { stop_function } from \"./globals\";\r\n\r\nwindow.close = close;\r\n\r\n\r\nexport function close() {\r\n\r\n    const app = document.querySelector<HTMLElement>(\"#window\");\r\n\r\n    stop_function.v = true;\r\n\r\n    app.style.opacity = \"0\";\r\n    app.style.visibility = \"hidden\";\r\n\r\n    setTimeout(() => {\r\n        app.remove();\r\n    }, 3 * 1000);\r\n}","import { lang_text } from \"./text\";\r\n\r\nexport function check() {\r\n\r\n    const audio_list = document.querySelectorAll(\"audio > source\");\r\n\r\n    if (window.location.hostname !== \"jewishmusic.fm\") {\r\n\r\n        throw new Error(lang_text.is_not_site);\r\n    }\r\n\r\n    if (audio_list.length < 1) {\r\n\r\n        throw new Error(lang_text.empty_audio);\r\n    }\r\n\r\n}","\r\nimport { download_all_songs } from \"./download-all-songs\";\r\nimport { my_require } from \"./my-require\";\r\nimport { add_html } from \"./html\";\r\nimport { close } from \"./close\";\r\nimport { check } from \"./check\";\r\n\r\n(window[\"download_from_jewish_music\"] = async function download_from_jewish_music() {\r\n\r\n\tconst app = document.querySelector(\".download_from_jewish_music\");\r\n\r\n\ttry {\r\n\r\n\t\tconsole.log(\"Musicode7\");\r\n\t\tconsole.log(\"https://github.com/MusiCode1/jewish-music.fm\");\r\n\r\n\t\tcheck();\r\n\r\n\t\tif (!app) {\r\n\t\t\tawait add_html();\r\n\t\t}\r\n\r\n\t\tawait my_require(\"https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js\");\r\n\r\n\t\tawait download_all_songs().finally(() => {\r\n\r\n\t\t\tclose();\r\n\t\t});\r\n\r\n\t} catch (error) {\r\n\r\n\t\tif (error.massage === \"window closed!\") {\r\n\r\n\t\t\tconsole.log(error.massage);\r\n\t\t\tthrow error;\r\n\r\n\t\t} else {\r\n\r\n\t\t\talert(error);\r\n\t\t\tclose();\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t}\r\n\r\n})();\r\n\r\n\r\n\r\n"],"names":["format"],"mappings":"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"}